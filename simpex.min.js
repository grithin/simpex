!function(a){var b={};"undefined"!=typeof module&&(module.exports=b),b.makeTail=function(a,c){return token=a.pop(),""!==token.text&&(0===token.type?(standardTokens=b.tokeniseStandardContext(token.text),standardTokens.length>0&&a.push.apply(a,standardTokens)):a.push(token)),c?(a.push(c),c):void 0},b.tokeniseStandardContext=function(a){for(var b={type:0},c=[],d=0,e=a.length;e>d;d++)if(" "!=a[d]&&"	"!=a[d])0===b.type?/[a-z0-9]/i.test(a[d])?(b={type:4,text:a[d]},c.push(b)):(b={type:5,text:a[d]},c.push(b)):4==b.type?/[a-z_0-9]/i.test(a[d])?b.text+=a[d]:(b={type:5,text:a[d]},c.push(b)):5==b.type&&(/[a-z0-9]/i.test(a[d])?(b={type:4,text:a[d]},c.push(b)):b.text+=a[d]);else{for(var f=1+d;e>f&&(" "==a[f]||"	"==a[f]);)f+=1;d=f-1,b={type:0}}return c},b.tokeniseStringPattern=function(a){for(var c=!1,d={type:0,text:""},e=[d],f=0,g=a.length;g>f;f++)0===d.type?"'"==a[f]?d=b.makeTail(e,{type:1,text:""}):"\\"==a[f]?"."==a[f+1]?(d=b.makeTail(e,{type:3,text:""}),f+=1):d=b.makeTail(e,{type:2,text:""}):'"'==a[f]?d=b.makeTail(e,{type:0,text:""}):d.text+=a[f]:1==d.type?c?(c=!1,"\\"==a[f]||"'"==a[f]?d.text+=a[f]:d.text+="\\"+a[f]):"\\"==a[f]?c=!0:"'"==a[f]?d=b.makeTail(e,{type:0,text:""}):d.text+=a[f]:2==d.type?("\n"==a[f]&&(d=b.makeTail(e,{type:0,text:""})),d.text+=a[f]):3==d.type&&(c?(c=!1,"\\"==a[f]||"."==a[f]?d.text+=a[f]:d.text+="\\"+a[f]):"\\"==a[f]?c=!0:"."==a[f]&&"\\"==a[f+1]?(d=b.makeTail(e,{type:0,text:""}),f+=1):d.text+=a[f]);return b.makeTail(e),e},b.formatTokens=function(b,c){var d,e="";for(var f in b)d=c[b[f].type],e+=a('<span class="'+d+'"></span>').text(b[f].text).wrap("<p>").parent().html();return e},b.defaults={classMap:{0:"simpex_broken",1:"simpex_string",2:"simpex_commentLine",3:"simpex_commentVary",4:"simpex_variable",5:"simpex_other"},formatter:b.formatTokens},a&&(a.fn.simpex=function(c){return c=a.extend({},a.fn.simpex.defaults,c),this.each(function(){var d=b.tokeniseStringPattern(a(this).text());a(this).html(c.formatter(d,c.classMap))})},a.extend(a.fn.simpex,b))}("undefined"!=typeof jQuery&&jQuery||!1);